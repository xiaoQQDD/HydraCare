<!DOCTYPE html>
<html lang='zh'>

<head>
    <meta charset="utf-8">
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <title>HydraCare</title>

    <link href="{{url_for('static', filename='css/bootstrap.min.css')}}" rel="stylesheet">
    <link href="{{url_for('static', filename='css/index.css')}}" rel="stylesheet">
    <script src="{{url_for('static', filename='js/bootstrap.bundle.min.js')}}"></script>
    <script src="{{url_for('static', filename='js/feather-4.28.0.min.js')}}"></script>
    <script src="{{url_for('static', filename='js/jquery-3.5.1.js')}}"></script>
</head>

<body>
    <div class="container">
        <div class="row mb-5">
            <img src="{{url_for('static', filename='imgs/water.jpg')}}" alt="">
        </div>

        
        {% include './message.html' %}
        {% import './macros.html' as macros %}
        {{ macros.nav_tabs(4) }}
        


        <div class="row">
            <div class="col">
                
                <div id="main001" style="width: 600px; height: 400px; user-select: none; position: relative;" _echarts_instance_="ec_1697737978550"><div style="position: relative; width: 600px; height: 400px; padding: 0px; margin: 0px; border-width: 0px; cursor: default;"><canvas style="position: absolute; left: 0px; top: 0px; width: 600px; height: 400px; user-select: none; padding: 0px; margin: 0px; border-width: 0px;" data-zr-dom-id="zr_0" width="600" height="400"></canvas></div><div class="" style="position: absolute; display: block; border-style: solid; white-space: nowrap; z-index: 9999999; box-shadow: rgba(0, 0, 0, 0.2) 1px 2px 10px; transition: opacity 0.2s cubic-bezier(0.23, 1, 0.32, 1) 0s, visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1) 0s, transform 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s; background-color: rgb(255, 255, 255); border-width: 1px; border-radius: 4px; color: rgb(102, 102, 102); font: 14px / 21px Microsoft YaHei; padding: 10px; top: 0px; left: 0px; transform: translate3d(393px, 288px, 0px); border-color: rgb(84, 112, 198); pointer-events: none; visibility: hidden; opacity: 0;"><div style="margin: 0px 0 0;line-height:1;"><div style="font-size:14px;color:#666;font-weight:400;line-height:1;">销量</div><div style="margin: 10px 0 0;line-height:1;"><div style="margin: 0px 0 0;line-height:1;"><span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:#5470c6;"></span><span style="font-size:14px;color:#666;font-weight:400;margin-left:2px">袜子</span><span style="float:right;margin-left:20px;font-size:14px;color:#666;font-weight:900">20</span><div style="clear:both"></div></div><div style="clear:both"></div></div><div style="clear:both"></div></div></div></div>
                </div>
            </div>
        </div>


        <hr class="mt-5">

        <div class="mb-2">
            <svg height="48" aria-hidden="true" viewBox="0 0 16 16" version="1.1" width="48" data-view-component="true"
                class="octicon octicon-mark-github v-align-middle color-fg-default">
                <path
                    d="M8 0c4.42 0 8 3.58 8 8a8.013 8.013 0 0 1-5.45 7.59c-.4.08-.55-.17-.55-.38 0-.27.01-1.13.01-2.2 0-.75-.25-1.23-.54-1.48 1.78-.2 3.65-.88 3.65-3.95 0-.88-.31-1.59-.82-2.15.08-.2.36-1.02-.08-2.12 0 0-.67-.22-2.2.82-.64-.18-1.32-.27-2-.27-.68 0-1.36.09-2 .27-1.53-1.03-2.2-.82-2.2-.82-.44 1.1-.16 1.92-.08 2.12-.51.56-.82 1.28-.82 2.15 0 3.06 1.86 3.75 3.64 3.95-.23.2-.44.55-.51 1.07-.46.21-1.61.55-2.33-.66-.15-.24-.6-.83-1.23-.82-.67.01-.27.38.01.53.34.19.73.9.82 1.13.16.45.68 1.31 2.69.94 0 .67.01 1.3.01 1.49 0 .21-.15.45-.55.38A7.995 7.995 0 0 1 0 8c0-4.42 3.58-8 8-8Z">
                </path>
            </svg>
            <span class="git">
                Github
            </span>
        </div>
        <div class="mb-4">
            <a class="btn btn-success" href="https://github.com/MaiPiaoPiao/HydraCare">Source code</a>
        </div>
    </div>
<script src="{{url_for('static', filename='js/echarts.min.js')}}"></script>
<script type="text/javascript">
    function getData(){
        $.ajax({
            url: '/statistics/data',
            type: 'GET',
            dataType: 'json',
            success: function(data){
                console.log(data);
                console.log(typeof(data));
                console.log(data.data);
                showData(data.data);
            }
        });
    }

    function showData(datas){
        let xs = [];
        let ys = [];
        for(let i = 0; i < datas.length; i++){
            xs.push(datas[i].date);
            ys.push(datas[i].data);
        }
        showDiagram(xs, ys);
    }

    function showDiagram(xs, ys){
        var option = {
          title: {
            text: 'Drink statistics'
          },
          tooltip: {},
          legend: {
            data: ['volumn']
          },
          xAxis: {
            // data: ['10.5', '10.6', '10.7', '10.8', '10.9', '10.13']
            data: xs
          },
          yAxis: {},
          series: [
            {
              name: 'volumn',
              type: 'bar',
            //   data: [50, 200, 360, 100, 100, 200]
              data: ys
            }
          ]
        };
        var myChart = echarts.init(document.getElementById('main001'));
        myChart.setOption(option);
    }

    
    getData();
 </script>
</body>

</html>